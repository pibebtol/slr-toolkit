<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <script src="vega.js"></script>
  <title>SLR-Toolkit - Bubble Matrix Chart</title>
</head>
<body>
  <div id="view"></div>
  <script type="text/javascript">
    var view;
    const file_bubble = './bubble.vg.json';
    
    var svg_url;

    fetch(file_bubble)
      .then(res => res.json())
      .then(spec => render(spec))
      .catch(err => console.error(err));

    function render(spec) {
      view = new vega.View(vega.parse(spec), {
        renderer:  'svg',  // renderer (canvas or svg)
        container: '#view',   // parent DOM container
        hover:     true       // enable hover processing
      });
      view.toImageURL('svg').then(function(url) {
        svg_url = url;
      }).catch(function(error) { /* error handling */ });
      return view.runAsync();
    }
  </script>
</body>
